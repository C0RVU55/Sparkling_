<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cart">

	<select id="selectCartList" resultType="CartVo">
		<![CDATA[
			SELECT  c.cart_no,
			        u.user_no,
			        u.user_id,
			        p.prod_detail_img_savename,
			        p.prod_name,
			        p.prod_price,
			        b.buy_address,
			        cr.color,
			        cr.prod_size,
			        c.count
			FROM    cart c, users u, product p, buy b, colorsize cr
			WHERE   c.user_no = #{user_no}
		]]>
	</select>

	<select id="selectOneUser" parameterType="UserVo" resultType="UserVo">
	<![CDATA[
		SELECT	user_no,
				user_name
		From	users
		WHERE	user_no = #{user_no}
	]]>
	</select>

	<select id="selectOneTotalPrice" resultType="CartInfoVo">
		<![CDATA[
			SELECT  sum(p.prod_price)
			FROM    cart c, product p
			WHERE   c.prod_no = p.prod_no
			        and user_no = #{user_no}
		]]>
	</select>

</mapper>